<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>TikTok Clone</title>
  <link rel="stylesheet" href="./style.css" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
</head>

<body>
  <div class="app__videos">
    <!-- video starts -->
    <div class="video">
      <video class="video__player"
        src="https://firebasestorage.googleapis.com/v0/b/homie-b3497.appspot.com/o/production%20ID_4040354.mp4?alt=media&token=4c3870a8-7a6b-4150-9be7-044a8b541502"></video>

      <!-- sidebar -->
      <div class="videoSidebar">
        <div class="videoSidebar__button">
          <span class="material-icons"> favorite_border </span>
          <p>12</p>
        </div>

        <div class="videoSidebar__button">
          <span class="material-icons"> message </span>
          <p>23</p>
        </div>

        <div class="videoSidebar__button">
          <span class="material-icons"> share </span>
          <p>75</p>
        </div>
      </div>

      <!-- footer -->
      <div class="videoFooter">
        <div class="videoFooter__text">
          <h3>Somanath Goudar</h3>
          <p class="videoFooter__description">Best Video Ever</p>

          <div class="videoFooter__ticker">
            <span class="material-icons videoFooter__icon"> music_note </span>
            <marquee>Song name</marquee>
          </div>
        </div>
        <img src="https://static.thenounproject.com/png/934821-200.png" alt="" class="videoFooter__record" />
      </div>
    </div>
    <!-- video ends -->

    <!-- video starts -->
    <div class="video">
      <video class="video__player"
        src="https://firebasestorage.googleapis.com/v0/b/homie-b3497.appspot.com/o/production%20ID_4448895.mp4?alt=media&token=396f2ea1-17ae-4a73-b379-4e47571743c8"></video>

      <!-- sidebar -->
      <div class="videoSidebar">
        <div class="videoSidebar__button">
          <span class="material-icons"> favorite_border </span>
          <p>12</p>
        </div>

        <div class="videoSidebar__button">
          <span class="material-icons"> message </span>
          <p>23</p>
        </div>

        <div class="videoSidebar__button">
          <span class="material-icons"> share </span>
          <p>75</p>
        </div>
      </div>

      <!-- footer -->
      <div class="videoFooter">
        <div class="videoFooter__text">
          <h3>Somanath Goudar</h3>
          <p class="videoFooter__description">Best Video Ever</p>

          <div class="videoFooter__ticker">
            <span class="material-icons videoFooter__icon"> music_note </span>
            <marquee>Song name</marquee>
          </div>
        </div>
        <img src="https://static.thenounproject.com/png/934821-200.png" alt="" class="videoFooter__record" />
      </div>
    </div>
    <!-- video ends -->

    <!-- video starts -->
    <div class="video">
      <video class="video__player"
        src="https://firebasestorage.googleapis.com/v0/b/homie-b3497.appspot.com/o/video2.mp4?alt=media&token=95dd5535-bbea-4ac8-9be5-d18670ef742c"></video>

      <!-- sidebar -->
      <div class="videoSidebar">
        <div class="videoSidebar__button">
          <span class="material-icons"> favorite_border </span>
          <p>12</p>
        </div>

        <div class="videoSidebar__button">
          <span class="material-icons"> message </span>
          <p>23</p>
        </div>

        <div class="videoSidebar__button">
          <span class="material-icons"> share </span>
          <p>75</p>
        </div>
      </div>

      <!-- footer -->
      <div class="videoFooter">
        <div class="videoFooter__text">
          <h3>Somanath Goudar</h3>
          <p class="videoFooter__description">Best Video Ever</p>

          <div class="videoFooter__ticker">
            <span class="material-icons videoFooter__icon"> music_note </span>
            <marquee>Song name</marquee>
          </div>
        </div>
        <img src="https://static.thenounproject.com/png/934821-200.png" alt="" class="videoFooter__record" />
      </div>
    </div>
    <!-- video ends -->
  </div>

  <script>
    const videos = document.querySelectorAll('video');

    for (const video of videos) {
      video.addEventListener('click', function () {
        console.log('clicked');

        if (video.paused) {
          video.play();
        } else {
          video.pause();
        }
      });

    }

    function scrollHandler(e) {
      var atSnappingPoint = e.target.scrollLeft % e.target.offsetWidth === 0;
      var timeOut = atSnappingPoint ? 0 : 150; //see notes      
      clearTimeout(e.target.scrollTimeout); //clear previous timeout

      e.target.scrollTimeout = setTimeout(function () {
        for (const video of videos) {
          if (!video.paused) {
            video.pause();
          }
        }
      }, timeOut);
    }
    document.querySelector('.app__videos').addEventListener('scroll', scrollHandler);

  </script>
</body>

</html>